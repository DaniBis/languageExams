"use strict";exports.id=136,exports.ids=[136],exports.modules={7e3:(e,t,a)=>{a.d(t,{ScheduleSection:()=>g});var r=a(326),s=a(7577),l=a(772),i=a(7863),o=a(6059),n=a(8912);let d=["Europe/Bucharest","UTC","Europe/London","America/New_York","Asia/Bangkok"],c={en:{liveTag:"Live availability",heading:"Choose a slot that works for you.",description:"Pick one or more 30-minute windows. Confirming a slot instantly blocks it for other visitors.",timezoneLabel:"Timezone",startDateLabel:"Start date",daysShownLabel:"Days shown",loading:"Loading slots…",confirmHeading:"Confirm your slots",selectedLabel:e=>`Selected slots: ${e||"None yet"}`,bookingLabel:e=>`Booking: ${e||"Select what you plan to book"}`,bookingPlaceholder:"What are you booking?",customPlaceholder:"Describe your package or plan",namePlaceholder:"Your name",emailPlaceholder:"Email for confirmation",notePlaceholder:"Notes (optional)",emptySlots:"Tap a time to add it here.",bookedTag:"Booked",lockedTag:"Locked by admin",errorMissing:"Please add your name, email, booking type, and select at least one slot.",errorGeneric:"Unable to book slots.",success:"Slots booked! Please check your email for confirmation.",submitIdle:"Book selected slots",submitLoading:"Booking…",footnote:"Booked slots show as blocked to everyone else. I will follow up via email with next steps.",lessonCount:e=>`${e} lessons`,slotLimitExceeded:"All required slots for this booking are already selected. Remove one to choose a different time.",packageInfo:(e,t)=>`${e} lessons • ${t} x 30-minute slots`,slotsProgress:(e,t)=>`${e} of ${t} slots selected`,lockTimeCta:"Lock this time for upcoming days",lockTimeHint:"Automatically selects the same time on future days while slots stay available.",lockTimeUnavailable:"Not enough upcoming days have this time free. Please add the remaining slots manually.",errorSlotRequirement:"Please select the exact number of slots required for this booking."},ro:{liveTag:"Disponibilitate live",heading:"Alege intervalul perfect pentru tine.",description:"Selecteaza unul sau mai multe intervale de 30 de minute. Dupa confirmare, intervalul devine indisponibil altora.",timezoneLabel:"Fus orar",startDateLabel:"Data de start",daysShownLabel:"Zile afisate",loading:"Se incarca intervalele…",confirmHeading:"Confirma intervalele",selectedLabel:e=>`Intervale selectate: ${e||"Inca nimic"}`,bookingLabel:e=>`Rezervare: ${e||"Alege ce vrei sa blochezi"}`,bookingPlaceholder:"Ce rezervi?",customPlaceholder:"Descrie pachetul sau planul dorit",namePlaceholder:"Numele tau",emailPlaceholder:"Email pentru confirmare",notePlaceholder:"Note (optional)",emptySlots:"Apasa pe un interval pentru a-l adauga aici.",bookedTag:"Rezervat",lockedTag:"Blocat de admin",errorMissing:"Completeaza numele, emailul, tipul rezervarii si alege cel putin un interval.",errorGeneric:"Nu am putut finaliza rezervarea.",success:"Intervalele au fost rezervate! Verifica emailul pentru confirmare.",submitIdle:"Rezerva intervalele selectate",submitLoading:"Se rezerva…",footnote:"Intervalele rezervate devin indisponibile pentru ceilalti. Revin pe email cu pasii urmatori.",lessonCount:e=>`${e} sedinte`,slotLimitExceeded:"Ai selectat deja toate intervalele necesare pentru aceasta rezervare. Elimina unul pentru a schimba ora.",packageInfo:(e,t)=>`${e} sedinte • ${t} intervale de 30 de minute`,slotsProgress:(e,t)=>`${e} din ${t} intervale selectate`,lockTimeCta:"Blocheaza acest interval pentru zilele urmatoare",lockTimeHint:"Selectez automat acelasi interval in zilele urmatoare, cat timp este liber.",lockTimeUnavailable:"Nu exista suficiente zile cu acest interval liber. Adauga manual restul orelor.",errorSlotRequirement:"Selecteaza numarul exact de intervale necesare pentru aceasta rezervare inainte de a continua."}},u={en:{free:"Free consultation (30 minutes)",custom:"Custom plan or other request"},ro:{free:"Consultatie gratuita (30 de minute)",custom:"Plan personalizat sau altceva"}};function m(e){return e.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}function p(e,t){return e.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:t})}function g(){let{locale:e}=(0,n.Z)(),t=c[e],a=(0,s.useCallback)(t=>"ro"===e?t.translations?.ro?.name??t.name:t.name,[e]),[g,x]=(0,s.useState)([]),[h,b]=(0,s.useState)(()=>new Date().toISOString().split("T")[0]),[f,v]=(0,s.useState)(7),[y,w]=(0,s.useState)("Europe/Bucharest"),[k,N]=(0,s.useState)([]),[j,S]=(0,s.useState)(""),[T,P]=(0,s.useState)(""),[C,z]=(0,s.useState)(""),[D,L]=(0,s.useState)(""),[E,F]=(0,s.useState)(""),[M,R]=(0,s.useState)(!1),[$,I]=(0,s.useState)(null),[A,U]=(0,s.useState)(!1),G=(0,s.useMemo)(()=>o.se.find(e=>e.id===D),[D]),B=(0,s.useMemo)(()=>G?2*G.lessons:"free-consultation"===D?1:null,[D,G]),H=(0,s.useCallback)(async()=>{try{U(!0);let e=new URLSearchParams;h&&e.set("start",new Date(h).toISOString()),f&&e.set("days",String(f));let t=await fetch(`/api/schedule${e.size?`?${e.toString()}`:""}`),a=await t.json();x(a.slots)}catch{I({type:"error",message:t.errorGeneric})}finally{U(!1)}},[t.errorGeneric,f,h]),O=(0,s.useMemo)(()=>k.map(e=>g.find(t=>t.id===e)).filter(e=>!!e).sort((e,t)=>new Date(e.start).getTime()-new Date(t.start).getTime()),[k,g]),q=(0,s.useMemo)(()=>g.reduce((e,t)=>{let a=new Date(t.start).toDateString();return e[a]=e[a]?[...e[a],t]:[t],e},{}),[g]),Z=(0,s.useMemo)(()=>Object.keys(q).map(e=>({key:e,date:new Date(e)})).sort((e,t)=>e.date.getTime()-t.date.getTime()),[q]),Y=(0,s.useMemo)(()=>[{value:"free-consultation",label:u[e].free},...o.se.map(e=>({value:e.id,label:`${a(e)} (${t.lessonCount(e.lessons)})`})),{value:"custom",label:u[e].custom}],[t,a,e]),Q=(0,s.useMemo)(()=>{if("custom"===D)return E.trim();let e=Y.find(e=>e.value===D);return e?.label??""},[D,Y,E]),J=(0,s.useCallback)(()=>{if(!B||!O.length){I({type:"error",message:t.lockTimeUnavailable});return}let e=new Date(O[0].start),a=60*e.getUTCHours()+e.getUTCMinutes(),r=e.getTime(),s=g.filter(e=>"available"===e.status).filter(e=>new Date(e.start).getTime()>=r).filter(e=>{let t=new Date(e.start);return 60*t.getUTCHours()+t.getUTCMinutes()===a}).sort((e,t)=>new Date(e.start).getTime()-new Date(t.start).getTime()),l=new Set(k);for(let e of s){if(l.size>=B)break;l.add(e.id)}if(l.size===k.length){I({type:"error",message:t.lockTimeUnavailable});return}N(Array.from(l)),I(null)},[t.lockTimeUnavailable,B,k,g,O]);async function V(){if(!k.length||!j||!T||!Q){I({type:"error",message:t.errorMissing});return}if(B&&k.length!==B){I({type:"error",message:t.errorSlotRequirement});return}R(!0),I(null);try{let e=await fetch("/api/schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:j,email:T,note:C,slotIds:k,bookingType:Q})});if(!e.ok){let t=await e.json();throw Error(t.error||"Unable to book slots.")}await H(),N([]),z(""),L(""),F(""),I({type:"success",message:t.success})}catch(e){I({type:"error",message:e.message||t.errorGeneric})}finally{R(!1)}}return r.jsx("section",{id:"schedule",className:"py-20 md:py-28 bg-gradient-to-b from-white to-soft-blue-light/30",children:(0,r.jsxs)("div",{className:"container max-w-6xl mx-auto px-6 md:px-10",children:[(0,r.jsxs)("div",{className:"max-w-3xl mb-10",children:[r.jsx("p",{className:"text-sm uppercase tracking-wide text-soft-blue font-semibold",children:t.liveTag}),r.jsx("h2",{className:"text-3xl md:text-4xl font-poppins font-bold text-gray-900 mb-4",children:t.heading}),r.jsx("p",{className:"text-lg text-gray-600",children:t.description})]}),(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,r.jsxs)("div",{className:"flex-1 overflow-x-auto",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:t.timezoneLabel}),r.jsx("select",{className:"border border-gray-200 rounded-xl px-3 py-2 bg-white text-sm",value:y,onChange:e=>w(e.target.value),children:d.map(e=>r.jsx("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:t.startDateLabel}),r.jsx("input",{type:"date",className:"border border-gray-200 rounded-xl px-3 py-2 text-sm",value:h,onChange:e=>b(e.target.value||new Date().toISOString().split("T")[0]),min:new Date().toISOString().split("T")[0]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:t.daysShownLabel}),r.jsx("select",{className:"border border-gray-200 rounded-xl px-3 py-2 bg-white text-sm",value:f,onChange:e=>v(Number(e.target.value)||7),children:[7,14,21,28,31].map(e=>r.jsx("option",{value:e,children:e},e))})]}),A&&r.jsx("p",{className:"text-sm text-gray-500",children:t.loading})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 min-w-[720px]",children:Z.map(({key:e,date:a})=>(0,r.jsxs)("div",{className:"rounded-2xl bg-white/80 border border-white/70 shadow-sm",children:[r.jsx("div",{className:"p-4 border-b border-gray-100",children:r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:m(a)})}),r.jsx("div",{className:"max-h-[520px] overflow-y-auto divide-y divide-gray-100",children:q[e].sort((e,t)=>new Date(e.start).getTime()-new Date(t.start).getTime()).map(e=>{let a=new Date(e.start),s=new Date(e.end),l=k.includes(e.id),o="booked"===e.status,n="locked"===e.status,d=o||n;return(0,r.jsxs)("button",{type:"button",onClick:()=>(function(e,a){if("available"===a){if(k.includes(e)){N(t=>t.filter(t=>t!==e)),I(null);return}if(B&&k.length>=B){I({type:"error",message:t.slotLimitExceeded});return}N(t=>[...t,e]),I(null)}})(e.id,e.status),disabled:d,className:(0,i.cn)("w-full text-left px-4 py-3 text-sm font-medium transition rounded-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2",o&&"bg-gray-100 text-gray-400 line-through cursor-not-allowed",n&&"bg-amber-50 text-amber-700 cursor-not-allowed",!d&&"hover:bg-soft-blue-light/40 text-gray-700",l&&"bg-soft-blue text-white hover:bg-soft-blue"),children:[(0,r.jsxs)("p",{children:[p(a,y)," – ",p(s,y)]}),o&&r.jsx("p",{className:"text-xs",children:t.bookedTag}),n&&r.jsx("p",{className:"text-xs",children:t.lockedTag})]},e.id)})})]},e))})]}),(0,r.jsxs)("div",{className:"w-full lg:w-80 bg-white/80 border border-white/70 rounded-3xl p-6 shadow-lg space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:t.confirmHeading}),r.jsx("p",{className:"text-sm text-gray-500",children:t.selectedLabel(k.length)}),r.jsx("p",{className:"text-sm text-gray-500",children:t.bookingLabel(Q)})]}),B&&G&&(0,r.jsxs)("div",{className:"bg-soft-blue-light/40 border border-soft-blue-light rounded-2xl p-4 text-sm",children:[r.jsx("p",{className:"font-semibold text-gray-900",children:t.packageInfo(G.lessons,B)}),r.jsx("p",{className:"text-gray-600",children:t.slotsProgress(k.length,B)})]}),(0,r.jsxs)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[O.map(e=>(0,r.jsxs)("div",{className:"text-sm text-gray-700 flex justify-between",children:[r.jsx("span",{children:m(new Date(e.start))}),(0,r.jsxs)("span",{children:[p(new Date(e.start),y)," – ",p(new Date(e.end),y)]})]},e.id)),!k.length&&r.jsx("p",{className:"text-sm text-gray-500",children:t.emptySlots})]}),B&&k.length>0&&k.length<B&&(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(l.z,{type:"button",variant:"outline",onClick:J,className:"w-full rounded-2xl border-dashed border-soft-blue text-soft-blue hover:bg-soft-blue/10",children:t.lockTimeCta}),r.jsx("p",{className:"text-xs text-gray-500",children:t.lockTimeHint})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("select",{className:"w-full border border-gray-200 rounded-xl px-3 py-2 text-sm bg-white",value:D,onChange:e=>L(e.target.value),children:[r.jsx("option",{value:"",children:t.bookingPlaceholder}),Y.map(e=>r.jsx("option",{value:e.value,children:e.label},e.value))]}),"custom"===D&&r.jsx("input",{className:"w-full border border-gray-200 rounded-xl px-3 py-2 text-sm",placeholder:t.customPlaceholder,value:E,onChange:e=>F(e.target.value)}),r.jsx("input",{className:"w-full border border-gray-200 rounded-xl px-3 py-2 text-sm",placeholder:t.namePlaceholder,value:j,onChange:e=>S(e.target.value)}),r.jsx("input",{className:"w-full border border-gray-200 rounded-xl px-3 py-2 text-sm",placeholder:t.emailPlaceholder,type:"email",value:T,onChange:e=>P(e.target.value)}),r.jsx("textarea",{className:"w-full border border-gray-200 rounded-xl px-3 py-2 text-sm",placeholder:t.notePlaceholder,rows:3,value:C,onChange:e=>z(e.target.value)})]}),$&&r.jsx("div",{className:(0,i.cn)("text-sm rounded-xl px-3 py-2","error"===$.type?"bg-red-50 text-red-600":"bg-green-50 text-green-700"),children:$.message}),r.jsx(l.z,{disabled:M,onClick:V,className:"w-full rounded-2xl bg-soft-blue text-white",children:M?t.submitLoading:t.submitIdle}),r.jsx("p",{className:"text-xs text-gray-500",children:t.footnote})]})]})]})})}},2643:(e,t,a)=>{a.d(t,{Ol:()=>o,Zb:()=>i,aY:()=>d,ll:()=>n});var r=a(326),s=a(7577),l=a(7863);let i=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let o=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let n=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));n.displayName="CardTitle",s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let d=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},6059:(e,t,a)=>{a.d(t,{rc:()=>s,se:()=>r});let r=[{id:"trial",name:"Trial Package",lessons:5,totalPrice:350,type:"individual",bestFor:"Trying out lessons or short-term goals",features:["Personalized lesson plans","All learning materials","Homework and practice exercises","Flexible scheduling"],translations:{ro:{name:"Pachet de inceput",bestFor:"Pentru a testa lectiile sau pentru obiective pe termen scurt",features:["Planuri de lectie personalizate","Toate materialele incluse","Teme si exercitii de practica","Program flexibil"]}}},{id:"standard",name:"Standard Package",lessons:10,totalPrice:700,type:"individual",bestFor:"Serious improvement and exam preparation",features:["Everything in Trial Package","Progress tracking and feedback","Mock tests available on request","Priority scheduling"],translations:{ro:{name:"Pachet standard",bestFor:"Progres serios si pregatire pentru examene",features:["Tot ce include pachetul de inceput","Monitorizare a progresului si feedback","Simulari de examen la cerere","Programare prioritara"]}},popular:!0},{id:"intensive",name:"Intensive Package",lessons:20,totalPrice:1300,type:"individual",bestFor:"Maximum results and complete preparation",features:["Everything in Standard Package","Comprehensive progress reports","Extra practice materials","Email support between lessons"],translations:{ro:{name:"Pachet intensiv",bestFor:"Rezultate maxime si pregatire completa",features:["Tot ce include pachetul standard","Rapoarte detaliate de progres","Materiale suplimentare de practica","Suport pe email intre sedinte"]}}},{id:"group-trial",name:"Group Trial Package",lessons:5,totalPrice:250,type:"group",bestFor:"Trying English lessons with friends or colleagues",features:["Small groups of 3-4 students","Shared learning materials","Collaborative speaking practice","Flexible scheduling"],translations:{ro:{name:"Pachet de grup - inceput",bestFor:"Testezi lectiile impreuna cu prietenii sau colegii",features:["Grupe restranse de 3-4 cursanti","Materiale impartite intre participanti","Antrenament colaborativ de speaking","Program flexibil"]}}},{id:"group-standard",name:"Group Standard Package",lessons:10,totalPrice:500,type:"group",bestFor:"Consistent group study and steady progress",features:["Everything in Group Trial Package","Group progress updates","Extra speaking clinics","Priority slot coordination for 3-4 students"],translations:{ro:{name:"Pachet de grup - standard",bestFor:"Studii de grup consecvente si progres constant",features:["Tot ce include pachetul de grup - inceput","Actualizari privind progresul grupei","Clinici suplimentare de speaking","Coordonare prioritara pentru 3-4 cursanti"]}},popular:!0},{id:"group-intensive",name:"Group Intensive Package",lessons:20,totalPrice:1e3,type:"group",bestFor:"Fast results for motivated groups",features:["Everything in Group Standard Package","Two weekly progress check-ins","Extended homework feedback","Private Q&A thread for the whole class"],translations:{ro:{name:"Pachet de grup - intensiv",bestFor:"Rezultate rapide pentru grupe motivate",features:["Tot ce include pachetul de grup - standard","Doua verificari ale progresului pe saptamana","Feedback extins pentru teme","Thread privat de Q&A pentru intreaga grupa"]}}}];function s(e){return`${e.toLocaleString("ro-RO")} lei`}},9730:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(6557).Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])}};