"use strict";(()=>{var e={};e.id=386,e.ids=[386],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1282:e=>{e.exports=require("child_process")},4770:e=>{e.exports=require("crypto")},665:e=>{e.exports=require("dns")},7702:e=>{e.exports=require("events")},2048:e=>{e.exports=require("fs")},2615:e=>{e.exports=require("http")},8791:e=>{e.exports=require("https")},8216:e=>{e.exports=require("net")},9801:e=>{e.exports=require("os")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},2452:e=>{e.exports=require("tls")},7360:e=>{e.exports=require("url")},1764:e=>{e.exports=require("util")},1568:e=>{e.exports=require("zlib")},9136:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>x,patchFetch:()=>T,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d});var s={};t.r(s),t.d(s,{POST:()=>p});var o=t(9303),n=t(8716),a=t(670),i=t(7070),u=t(6119);async function p(e){try{let{name:r,email:t,subject:s,message:o}=await e.json();if(!r||!t||!s||!o)return i.NextResponse.json({error:"All fields are required"},{status:400});if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return i.NextResponse.json({error:"Invalid email address"},{status:400});return await (0,u.r)({name:r,email:t,subject:s,message:o}),i.NextResponse.json({message:"Message sent successfully!"},{status:200})}catch(e){return console.error("Contact form error:",e),i.NextResponse.json({error:"Failed to send message. Please try again."},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/contact/route",pathname:"/api/contact",filename:"route",bundlePath:"app/api/contact/route"},resolvedPagePath:"/Users/ovidiuban/languageExams/app/api/contact/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:m}=c,x="/api/contact/route";function T(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}},6119:(e,r,t)=>{t.d(r,{c:()=>n,r:()=>a});var s=t(5245);function o(e,r=!1){let t=process.env[e];if(r&&!t)throw Error(`${e} is not configured.`);return t}async function n(e){let r=o("SMTP_HOST",!0),t=Number(o("SMTP_PORT",!0)),n=o("SMTP_USER",!0),a=o("SMTP_PASS",!0),i=o("BOOKING_NOTIFICATION_TO")||o("CONTACT_EMAIL_TO",!0),u=s.createTransport({host:r,port:t,secure:465===t,auth:{user:n,pass:a}}),p=e.slots.map(e=>`• ${new Date(e.start).toUTCString()} → ${new Date(e.end).toUTCString()}`).join("\n"),c=["New booking received",`Name: ${e.name}`,`Email: ${e.email}`,`Booking: ${e.bookingType}`,`Slots:
${p}`];e.note&&c.push(`Note: ${e.note}`),await u.sendMail({from:`Booking Bot <${n}>`,to:i,subject:`New booking from ${e.name} – ${e.bookingType}`,text:c.join("\n\n")})}async function a(e){let r=o("SMTP_HOST",!0),t=Number(o("SMTP_PORT",!0)),n=o("SMTP_USER",!0),a=o("SMTP_PASS",!0),i=o("CONTACT_EMAIL_TO",!0),u=s.createTransport({host:r,port:t,secure:465===t,auth:{user:n,pass:a}});await u.sendMail({from:`Website Contact <${n}>`,to:i,replyTo:e.email,subject:`[Contact] ${e.subject}`,text:[`Name: ${e.name}`,`Email: ${e.email}`,"",e.message].join("\n")})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[276,972,245],()=>t(9136));module.exports=s})();